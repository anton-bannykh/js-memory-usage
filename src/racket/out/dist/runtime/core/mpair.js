"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function check(e){return e instanceof MPair}function make(e,t){return new MPair(e,t)}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2);exports.check=check,exports.make=make;var _primitive=require("./primitive.js"),_lib=require("./lib.js"),$=_interopRequireWildcard(_lib),MPair=function(e){function t(e,r){(0,_classCallCheck3.default)(this,t);var i=(0,_possibleConstructorReturn3.default)(this,(t.__proto__||(0,_getPrototypeOf2.default)(t)).call(this));return i.hd=e,i.tl=r,i._listLength=r===Empty?1:isList(r)&&r._listLength+1,i}return(0,_inherits3.default)(t,e),(0,_createClass3.default)(t,[{key:"toString",value:function(){for(var e="(",t=this;;){if(!check(t)){e+=". "+$.toString(t);break}var r=t.hd;if(e+=$.toString(r),t=t.tl,isEmpty(t))break;e+=" "}return e+=")"}},{key:"toRawString",value:function(){return"'"+this.toString()}},{key:"equals",value:function(e){if(!check(e))return!1;if(this._listLength!==e._listLength)return!1;for(var t=this.hd,r=this.tl,i=e.hd,u=e.tl;;)return!!$.isEqual(t,i)&&$.isEqual(r,u);return!0}},{key:"car",value:function(){return this.hd}},{key:"cdr",value:function(){return this.tl}},{key:"setCar",value:function(e){this.hd=e}},{key:"setCdr",value:function(e){this.tl=e}}]),t}(_primitive.Primitive);