"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function make(e,t){return new Vector(e,t)}function copy(e,t){return new Vector(e.items,t)}function makeInit(e,t){var r=new Array(e);return r.fill(t),new Vector(r,!0)}function check(e){return e instanceof Vector}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2);exports.make=make,exports.copy=copy,exports.makeInit=makeInit,exports.check=check;var _primitive=require("./primitive.js"),_lib=require("./lib.js"),$=_interopRequireWildcard(_lib),Vector=function(e){function t(e,r){(0,_classCallCheck3.default)(this,t);var i=(0,_possibleConstructorReturn3.default)(this,(t.__proto__||(0,_getPrototypeOf2.default)(t)).call(this));return i.mutable=r,i.items=e,i}return(0,_inherits3.default)(t,e),(0,_createClass3.default)(t,[{key:"toString",value:function(){for(var e="",t=0;t<this.items.length;t++)e+=this.items[t].toString(),t!=this.items.length-1&&(e+=" ");return"#("+e+")"}},{key:"toRawString",value:function(){return"'"+this.toString()}},{key:"mutable",value:function(){return this.mutable}},{key:"ref",value:function(e){if(e<0||e>this.items.length)throw $.racketCoreError("vector-ref","index out of range");return this.items[e]}},{key:"set",value:function(e,t){if(e<0||e>this.items.length)throw $.racketCoreError("vector-set","index out of range");if(!this.mutable)throw $.racketCoreError("vector-set","immutable vector");this.items[e]=t}},{key:"length",value:function(){return this.items.length}},{key:"equals",value:function(e){if(!check(e))return!1;var t=this.items,r=e.items;if(t.length!=r.length)return!1;for(var i=0;i<t.length;i++)if(!$.isEqual(t[i],r[i]))return!1;return!0}}]),t}(_primitive.Primitive);