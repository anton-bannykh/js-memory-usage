"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function hashMix(e){var r=0,t=!0,n=!1,a=void 0;try{for(var i,o=(0,_getIterator3.default)(e);!(t=(i=o.next()).done);t=!0)r+=i.value,r+=r<<10,r^=r>>6}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return r}function hash(e,r,t){if(!1===e||null===e||void 0===e)return 0;if(!0===r&&"function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var n=void 0===e?"undefined":(0,_typeof3.default)(e);if("number"===n){if(e!==e||e===1/0)return 0;var a=0|e;for(a!==e&&(a^=4294967295*e);e>4294967295;)a^=e/=4294967295;return(0,_math.smi)(a)}if("string"===n)return e.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(e):hashString(e);if(!0===t&&"function"==typeof e.hashCode)return e.hashCode();if("object"===n)return hashJSObj(e);if("function"==typeof e.toString)return hashString(e.toString());throw new Error("Value type "+n+" cannot be hashed.")}function cachedHashString(e){var r=stringHashCache[e];return void 0===r&&(r=hashString(e),STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE&&(STRING_HASH_CACHE_SIZE=0,stringHashCache={}),STRING_HASH_CACHE_SIZE++,stringHashCache[e]=r),r}function hashString(e){for(var r=0,t=0;t<e.length;t++)r=31*r+e.charCodeAt(t)|0;return(0,_math.smi)(r)}function hashJSObj(e){var r;if(usingWeakMap&&void 0!==(r=weakMap.get(e)))return r;if(void 0!==(r=e[UID_HASH_KEY]))return r;if(!canDefineProperty){if(void 0!==(r=e.propertyIsEnumerable&&e.propertyIsEnumerable[UID_HASH_KEY]))return r;if(void 0!==(r=getIENodeHash(e)))return r}if(r=++objHashUID,1073741824&objHashUID&&(objHashUID=0),usingWeakMap)weakMap.set(e,r);else{if(void 0!==isExtensible&&!1===isExtensible(e))throw new Error("Non-extensible objects are not allowed as keys.");if(canDefineProperty)(0,_defineProperty2.default)(e,UID_HASH_KEY,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[UID_HASH_KEY]=r;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[UID_HASH_KEY]=r}}return r}function getIENodeHash(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}Object.defineProperty(exports,"__esModule",{value:!0});var _symbol=require("babel-runtime/core-js/symbol"),_symbol2=_interopRequireDefault(_symbol),_weakMap=require("babel-runtime/core-js/weak-map"),_weakMap2=_interopRequireDefault(_weakMap),_isExtensible=require("babel-runtime/core-js/object/is-extensible"),_isExtensible2=_interopRequireDefault(_isExtensible),_defineProperty=require("babel-runtime/core-js/object/define-property"),_defineProperty2=_interopRequireDefault(_defineProperty),_typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2);exports.hashMix=hashMix,exports.hash=hash,exports.hashString=hashString,exports.hashJSObj=hashJSObj;var _math=require("./math.js"),isExtensible=_isExtensible2.default,canDefineProperty=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),usingWeakMap="function"==typeof _weakMap2.default,weakMap;usingWeakMap&&(weakMap=new _weakMap2.default);var objHashUID=0,UID_HASH_KEY="__immutablehash__";"function"==typeof _symbol2.default&&(UID_HASH_KEY=(0,_symbol2.default)(UID_HASH_KEY));var STRING_HASH_CACHE_MIN_STRLEN=16,STRING_HASH_CACHE_MAX_SIZE=255,STRING_HASH_CACHE_SIZE=0,stringHashCache={};